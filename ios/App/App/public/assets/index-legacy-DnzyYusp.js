System.register(["./index-legacy-BVht0oRT.js","./index-legacy-bWGLu6PL.js"],(function(e,t){"use strict";var a,n,o,i,r,l,s,c,d,u,p,m,h,f,b,y,g,w,P,v,E,L,I,U,_,R,T;return{setters:[e=>{a=e.d,n=e.b,o=e.f,i=e.h,r=e.e,l=e.g,s=e.c,c=e.Y,d=e.Q,u=e.R,p=e.n,m=e.u,h=e.P,f=e.y,b=e.z,y=e.A,g=e._,w=e.i,P=e.w,v=e.r,E=e.o,L=e.j,I=e.k,U=e.l},e=>{_=e.W,R=e.a,T=e.r}],execute:function(){var t,C,x;!function(e){e.Prompt="PROMPT",e.Camera="CAMERA",e.Photos="PHOTOS"}(t||(t={})),function(e){e.Rear="REAR",e.Front="FRONT"}(C||(C={})),function(e){e.Uri="uri",e.Base64="base64",e.DataUrl="dataUrl"}(x||(x={}));class S extends _{async getPhoto(e){return new Promise((async(a,n)=>{if(e.webUseInput||e.source===t.Photos)this.fileInputExperience(e,a,n);else if(e.source===t.Prompt){let t=document.querySelector("pwa-action-sheet");t||(t=document.createElement("pwa-action-sheet"),document.body.appendChild(t)),t.header=e.promptLabelHeader||"Photo",t.cancelable=!1,t.options=[{title:e.promptLabelPhoto||"From Photos"},{title:e.promptLabelPicture||"Take Picture"}],t.addEventListener("onSelection",(async t=>{0===t.detail?this.fileInputExperience(e,a,n):this.cameraExperience(e,a,n)}))}else this.cameraExperience(e,a,n)}))}async pickImages(e){return new Promise((async(e,t)=>{this.multipleFileInputExperience(e,t)}))}async cameraExperience(e,t,a){if(customElements.get("pwa-camera-modal")){const o=document.createElement("pwa-camera-modal");o.facingMode=e.direction===C.Front?"user":"environment",document.body.appendChild(o);try{await o.componentOnReady(),o.addEventListener("onPhoto",(async n=>{const i=n.detail;null===i?a(new R("User cancelled photos app")):i instanceof Error?a(i):t(await this._getCameraPhoto(i,e)),o.dismiss(),document.body.removeChild(o)})),o.present()}catch(n){this.fileInputExperience(e,t,a)}}else console.error("Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements."),this.fileInputExperience(e,t,a)}fileInputExperience(e,a,n){let o=document.querySelector("#_capacitor-camera-input");const i=()=>{var e;null===(e=o.parentNode)||void 0===e||e.removeChild(o)};o||(o=document.createElement("input"),o.id="_capacitor-camera-input",o.type="file",o.hidden=!0,document.body.appendChild(o),o.addEventListener("change",(t=>{const n=o.files[0];let r="jpeg";if("image/png"===n.type?r="png":"image/gif"===n.type&&(r="gif"),"dataUrl"===e.resultType||"base64"===e.resultType){const t=new FileReader;t.addEventListener("load",(()=>{if("dataUrl"===e.resultType)a({dataUrl:t.result,format:r});else if("base64"===e.resultType){const e=t.result.split(",")[1];a({base64String:e,format:r})}i()})),t.readAsDataURL(n)}else a({webPath:URL.createObjectURL(n),format:r}),i()})),o.addEventListener("cancel",(e=>{n(new R("User cancelled photos app")),i()}))),o.accept="image/*",o.capture=!0,e.source===t.Photos||e.source===t.Prompt?o.removeAttribute("capture"):e.direction===C.Front?o.capture="user":e.direction===C.Rear&&(o.capture="environment"),o.click()}multipleFileInputExperience(e,t){let a=document.querySelector("#_capacitor-camera-input-multiple");const n=()=>{var e;null===(e=a.parentNode)||void 0===e||e.removeChild(a)};a||(a=document.createElement("input"),a.id="_capacitor-camera-input-multiple",a.type="file",a.hidden=!0,a.multiple=!0,document.body.appendChild(a),a.addEventListener("change",(t=>{const o=[];for(let e=0;e<a.files.length;e++){const t=a.files[e];let n="jpeg";"image/png"===t.type?n="png":"image/gif"===t.type&&(n="gif"),o.push({webPath:URL.createObjectURL(t),format:n})}e({photos:o}),n()})),a.addEventListener("cancel",(e=>{t(new R("User cancelled photos app")),n()}))),a.accept="image/*",a.click()}_getCameraPhoto(e,t){return new Promise(((a,n)=>{const o=new FileReader,i=e.type.split("/")[1];"uri"===t.resultType?a({webPath:URL.createObjectURL(e),format:i,saved:!1}):(o.readAsDataURL(e),o.onloadend=()=>{const e=o.result;"dataUrl"===t.resultType?a({dataUrl:e,format:i,saved:!1}):a({base64String:e.split(",")[1],format:i,saved:!1})},o.onerror=e=>{n(e)})}))}async checkPermissions(){if("undefined"==typeof navigator||!navigator.permissions)throw this.unavailable("Permissions API not available in this browser");try{return{camera:(await window.navigator.permissions.query({name:"camera"})).state,photos:"granted"}}catch(e){throw this.unavailable("Camera permissions are not available in this browser")}}async requestPermissions(){throw this.unimplemented("Not implemented on web.")}async pickLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}async getLimitedLibraryPhotos(){throw this.unavailable("Not implemented on web.")}}new S;const k=T("Camera",{web:()=>new S}),F=a({name:"cameraScreen",components:{IonToolbar:n,IonPage:o,IonFooter:i,IonHeader:r,IonContent:l,IonTitle:s,IonRouterOutlet:c,IonTabBar:d,IonTabButton:u,IonIcon:p,IonLabel:m,IonTabs:h},data(){},methods:{async takePhoto(){(await k.getPhoto({quality:90,allowEditing:!0,resultType:x.Uri})).webPath}},setup:()=>({home:f,accessibility:b,square:y})}),j={class:"p-3"};e("default",g(F,[["render",function(e,t,a,n,o,i){const r=v("ion-title"),l=v("ion-toolbar"),s=v("ion-header"),c=v("ion-content"),d=v("ion-router-outlet"),u=v("ion-icon"),p=v("ion-label"),m=v("ion-tab-button"),h=v("ion-tab-bar"),f=v("ion-tabs"),b=v("ion-footer"),y=v("ion-page");return E(),w(y,null,{default:P((()=>[L(s,null,{default:P((()=>[L(l,{color:"primary"},{default:P((()=>[L(r,null,{default:P((()=>t[1]||(t[1]=[I(" Camera ")]))),_:1})])),_:1})])),_:1}),L(c,null,{default:P((()=>[U("div",j,[U("button",{class:"btn btn-secondary btn-lg w-100",onClick:t[0]||(t[0]=t=>e.takePhoto())}," Take Photo ")])])),_:1}),L(b,null,{default:P((()=>[L(l,null,{default:P((()=>[L(f,null,{default:P((()=>[L(d),L(h,{slot:"bottom"},{default:P((()=>[L(m,{tab:"home",href:"/home"},{default:P((()=>[L(u,{"aria-hidden":"true",icon:e.home},null,8,["icon"]),L(p,null,{default:P((()=>t[2]||(t[2]=[I("Home")]))),_:1})])),_:1}),L(m,{tab:"Login",href:"/Login"},{default:P((()=>[L(u,{"aria-hidden":"true",icon:e.accessibility},null,8,["icon"]),L(p,null,{default:P((()=>t[3]||(t[3]=[I("Log-in Screen")]))),_:1})])),_:1}),L(m,{tab:"Profile",href:"/Profile"},{default:P((()=>[L(u,{"aria-hidden":"false",icon:e.square},null,8,["icon"]),L(p,null,{default:P((()=>t[4]||(t[4]=[I("Profile Screen")]))),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}]]))}}}));
